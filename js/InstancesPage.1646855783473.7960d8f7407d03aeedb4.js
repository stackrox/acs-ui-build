"use strict";(self.webpackChunkacs=self.webpackChunkacs||[]).push([[996],{51986:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(93264),a=n.n(r),l=n(80123),i=n(39173),o=n(14748),c=n(16530),u=n(70943),s=n(87462),m=n(45987),d=["children","to"];const p=function(e){var t=e.children,n=e.to,r=(0,m.Z)(e,d);return a().createElement(u.BreadcrumbItem,(0,s.Z)({},r,{render:function(e){var r=e.className,l=e.ariaCurrent;return a().createElement(c.Link,{className:r,"aria-current":l,to:n},t)}}))},E=function(){var e=(0,c.useParams)().instanceName;return a().createElement("div",null,a().createElement(l.Z,null,a().createElement(u.Flex,{direction:{default:"column"}},a().createElement(u.FlexItem,null,a().createElement(u.Breadcrumb,null,a().createElement(p,{to:"/instances"},"ACS instances"),a().createElement(u.BreadcrumbItem,{isActive:!0},e))),a().createElement(u.FlexItem,null,a().createElement(i.Z,{title:e})))),a().createElement(o.Z,null))}},6851:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(4942),a=n(42982),l=n(70885),i=n(93264),o=n.n(i),c=n(16530),u=n(14748),s=n(80123),m=n(39173),d=n(70943),p=n(38877),E=n(96733);var f=n(15861),v=n(87757),g=n.n(v);const b=function(e){var t=e.toggleIcon,n=e.id,r=e.value,a=e.handleSelect,c=e.isDisabled,u=void 0!==c&&c,s=e.children,m=e.direction,p=void 0===m?"down":m,E=e.isCreatable,f=void 0!==E&&E,v=e.variant,g=void 0===v?null:v,b=e.placeholderText,C=void 0===b?"":b,h=(0,i.useState)(!1),w=(0,l.Z)(h,2),y=w[0],D=w[1],T="typeahead"===g?d.SelectVariant.typeahead:d.SelectVariant.single;return o().createElement(d.Select,{variant:T,toggleIcon:t,id:n,isDisabled:u,isOpen:y,onSelect:function(e,t){D(!1),a(n,t)},onToggle:D,selections:r,direction:p,isCreatable:f,placeholderText:C,toggleId:n},s)};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={name:"",cloudProvider:"Amazon Web Services",cloudRegion:"US-East",availabilityZones:"multi",owner:"bob@redhat.com",status:"READY",timeCreated:new Date};const y=function(e){var t=e.isOpen,n=e.onClose,r=e.onRequestCreate,a=(0,i.useState)(w),c=(0,l.Z)(a,2),u=c[0],s=c[1],m=(0,i.useState)(!1),p=(0,l.Z)(m,2),E=p[0],v=p[1];function C(e,t){var n=t.currentTarget.id;s((function(e){return h(h({},e),{},{availabilityZones:n})}))}function y(){return(y=(0,f.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,r(u);case 3:t=e.sent,v(!1),t.error||(s(w),n());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o().createElement(d.Modal,{variant:d.ModalVariant.small,title:"Create ACS instance",isOpen:t,onClose:n,actions:[o().createElement(d.Button,{key:"createInstance",variant:"primary",onClick:function(){return y.apply(this,arguments)},isLoading:E,isDisabled:E||!(null!=u&&u.name)},"Create instance"),o().createElement(d.Button,{key:"cancel",variant:"link",onClick:n,isDisabled:E},"Cancel")]},o().createElement(d.Form,null,o().createElement(d.FormGroup,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Must start with a letter and end with a letter or number. Valid characters include lowercase letters from a to z, numbers from 0 to 9, and hyphens ( - )."},o().createElement(d.TextInput,{isRequired:!0,type:"text",id:"name",name:"name",value:u.name,onChange:function(e){s((function(t){return h(h({},t),{},{name:e})}))}})),o().createElement(d.FormGroup,{label:"Cloud provider",isRequired:!0,fieldId:"cloudProvider"},o().createElement(d.Tile,{title:"Amazon Web Services",isSelected:"Amazon Web Services"===u.cloudProvider})),o().createElement(d.FormGroup,{label:"Cloud region",isRequired:!0,fieldId:"cloudRegion"},o().createElement(b,{id:"cloudRegion",value:u.cloudRegion,handleSelect:function(e,t){s((function(e){return h(h({},e),{},{cloudRegion:t})}))},isDisabled:!0},o().createElement(d.SelectOption,{value:"US-East"},"US-East, N. Virginia"),o().createElement(d.SelectOption,{value:"EU-Ireland"},"EU-Ireland"))),o().createElement(d.FormGroup,{label:"Availability zones",isRequired:!0,fieldId:"availabilityZones"},o().createElement(d.ToggleGroup,{"aria-label":"Availability Zones"},o().createElement(d.ToggleGroupItem,{text:"Single",buttonId:"single",isSelected:"single"===u.availabilityZones,onChange:C,isDisabled:!0}),o().createElement(d.ToggleGroupItem,{text:"Multi",buttonId:"multi",isSelected:"multi"===u.availabilityZones,onChange:C})))))},D=function(e){var t=e.isOpen,n=e.instance,r=e.onRequestDelete,a=e.onClose,c=(0,i.useState)(""),u=(0,l.Z)(c,2),s=u[0],m=u[1],p=(0,i.useState)(!1),E=(0,l.Z)(p,2),v=E[0],b=E[1];function C(){return(C=(0,f.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,r();case 3:t=e.sent,b(!1),t.error||(m(""),a());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n?o().createElement(d.Modal,{variant:d.ModalVariant.small,title:"Delete instance?",isOpen:t,onClose:a,actions:[o().createElement(d.Button,{key:"createInstance",variant:"danger",onClick:function(){return C.apply(this,arguments)},isLoading:v,isDisabled:v||n.name!==s},"Delete instance"),o().createElement(d.Button,{key:"cancel",variant:"link",onClick:a,isDisabled:v},"Cancel")]},o().createElement("div",{className:"pf-u-pb-md"},o().createElement("div",null,"This will permanently delete"," ",o().createElement("span",{className:"pf-u-font-weight-bold"},n.name),"."),o().createElement("div",null,"This action cannot be undone.")),o().createElement(d.Form,null,o().createElement(d.FormGroup,{label:"Confirmation",isRequired:!0,fieldId:"confirmationInstanceName"},o().createElement(d.TextInput,{isRequired:!0,type:"text",id:"confirmationInstanceName",name:"confirmationInstanceName",value:s,onChange:m})),o().createElement(d.HelperText,null,o().createElement(d.HelperTextItem,null,"Type ",o().createElement("span",{className:"pf-u-font-weight-bold"},n.name)," ","to confirm.")))):null},T=function(e){var t=e.isExpanded,n=e.onClose,r=e.instance,a=e.children;return o().createElement(d.Drawer,{isExpanded:t},o().createElement(d.DrawerContent,{panelContent:o().createElement(d.DrawerPanelContent,null,o().createElement(d.DrawerHead,null,o().createElement("div",null,o().createElement(d.TextContent,null,o().createElement(d.Text,{component:d.TextVariants.small},"Name")),o().createElement(d.TextContent,null,o().createElement(d.Text,{component:d.TextVariants.h1},null==r?void 0:r.name))),o().createElement(d.DrawerActions,null,o().createElement(d.DrawerCloseButton,{onClick:n}))),o().createElement(d.Divider,{component:"div"}),o().createElement(d.DrawerContentBody,null,o().createElement(d.DescriptionList,{isHorizontal:!0},o().createElement(d.DescriptionListGroup,null,o().createElement(d.DescriptionListTerm,null,"Cloud provider"),o().createElement(d.DescriptionListDescription,null,null==r?void 0:r.cloudProvider)),o().createElement(d.DescriptionListGroup,null,o().createElement(d.DescriptionListTerm,null,"Region"),o().createElement(d.DescriptionListDescription,null,null==r?void 0:r.cloudRegion)),o().createElement(d.DescriptionListGroup,null,o().createElement(d.DescriptionListTerm,null,"ID"),o().createElement(d.DescriptionListDescription,null,(null==r?void 0:r.id)||"N/A")),o().createElement(d.DescriptionListGroup,null,o().createElement(d.DescriptionListTerm,null,"Owner"),o().createElement(d.DescriptionListDescription,null,(null==r?void 0:r.owner)||"N/A")),o().createElement(d.DescriptionListGroup,null,o().createElement(d.DescriptionListTerm,null,"Created"),o().createElement(d.DescriptionListDescription,null,(null==r?void 0:r.created)||"N/A")),o().createElement(d.DescriptionListGroup,null,o().createElement(d.DescriptionListTerm,null,"Updated"),o().createElement(d.DescriptionListDescription,null,(null==r?void 0:r.updated)||"N/A")))))},a))},O=function(e){var t=e.isOpen,n=e.changingOwner,r=e.possibleOwners,a=e.onRequestChangeOwner,c=e.onClose,u=(0,i.useState)(""),s=(0,l.Z)(u,2),m=s[0],p=s[1],E=(0,i.useState)(!1),v=(0,l.Z)(E,2),C=v[0],h=v[1];if(!n)return null;function w(){return(w=(0,f.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,a(m);case 3:t=e.sent,h(!1),t.error||(p(""),c());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o().createElement(d.Modal,{style:{overflow:"inherit"},variant:d.ModalVariant.small,title:"Change owner",isOpen:t,onClose:c,actions:[o().createElement(d.Button,{key:"changeOwner",variant:"primary",onClick:function(){return w.apply(this,arguments)},isLoading:C,isDisabled:C||!m},"Change owner"),o().createElement(d.Button,{key:"cancel",variant:"link",onClick:c,isDisabled:C},"Cancel")]},o().createElement(d.Form,null,o().createElement(d.FormGroup,{label:"Current owner",fieldId:"currentOwner"},o().createElement(d.TextContent,null,o().createElement(d.Text,{component:d.TextVariants.p},n.instance.owner))),o().createElement(d.FormGroup,{label:"New Owner",isRequired:!0,fieldId:"newOwner"},o().createElement(b,{id:"newOwner",value:m,handleSelect:function(e,t){p(t)},placeholderText:"Select new owner..."},r.map((function(e){return o().createElement(d.SelectOption,{key:e,value:e},e)}))))))};var S=n(11384),P=n(35451);const I=function(e){return"READY"===e.status?o().createElement(d.Flex,null,o().createElement(d.FlexItem,null,o().createElement(P.ZP,{className:"pf-u-success-color-100"})),o().createElement(d.FlexItem,null,"Ready")):"N/A"};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var x=[{name:"acs-instance-1",cloudProvider:"Amazon Web Services",cloudRegion:"US-East",availabilityZones:"multi",owner:"bob@redhat.com",status:"READY",timeCreated:new Date}],k=["alice@redhat.com","bob@redhat.com","eve@redhat.com"];const R=(0,c.withRouter)((function(){var e=(0,c.useHistory)(),t=(0,i.useState)(x),n=(0,l.Z)(t,2),f=n[0],v=n[1],g=function(){var e=(0,i.useState)(1),t=(0,l.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)(20),o=(0,l.Z)(a,2),c=o[0],u=o[1];return{page:n,perPage:c,onSetPage:function(e,t){r(t)},onPerPageSelect:function(e,t){u(t)}}}(),b=g.page,C=g.perPage,h=g.onSetPage,w=g.onPerPageSelect,P=(0,i.useState)(null),R=(0,l.Z)(P,2),L=R[0],A=R[1],j=(0,i.useState)(null),N=(0,l.Z)(j,2),F=N[0],G=N[1],q=(0,i.useState)(null),B=(0,l.Z)(q,2),M=B[0],V=B[1],z=(0,i.useState)(null),U=(0,l.Z)(z,2),H=U[0],W=U[1];return(0,i.useEffect)((function(){var e,t,n;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(n=t.appAction)||void 0===n||n.call(t,"sample-page")}),[]),o().createElement(T,{isExpanded:!!M,instance:M,onClose:function(){V(null)}},o().createElement(s.Z,null,o().createElement(m.Z,{title:"ACS Instances"})),o().createElement(u.Z,null,o().createElement(d.Card,null,0===(null==f?void 0:f.length)?o().createElement(d.EmptyState,null,o().createElement(d.EmptyStateIcon,{icon:E.ZP}),o().createElement(d.Title,{size:"lg",headingLevel:"h4"},"No ACS instances."),o().createElement(d.EmptyStateBody,null,"Create one to get started."),o().createElement(d.EmptyStatePrimary,null,o().createElement(d.Button,{variant:"primary",onClick:function(){return A({})}},"Create ACS instance"))):o().createElement(o().Fragment,null,o().createElement(d.Toolbar,null,o().createElement(d.ToolbarContent,null,o().createElement(d.ToolbarItem,null,o().createElement(d.Button,{variant:"primary",onClick:function(){return A({})}},"Create ACS instance")),o().createElement(d.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},o().createElement(d.Pagination,{itemCount:f.length,perPage:C,page:b,onSetPage:h,widgetId:"acs-instances-top-pagination",onPerPageSelect:w,isCompact:!0})))),o().createElement(p.TableComposable,{"aria-label":"ACS instances table"},o().createElement(p.Thead,null,o().createElement(p.Tr,null,o().createElement(p.Th,null,"Name"),o().createElement(p.Th,null,"Cloud Provider"),o().createElement(p.Th,null,"Region"),o().createElement(p.Th,null,"Owner"),o().createElement(p.Th,null,"Status"),o().createElement(p.Th,null,"Time Created"),o().createElement(p.Th,null))),o().createElement(p.Tbody,null,f.map((function(t){return o().createElement(p.Tr,{key:t.name,onRowClick:function(e){"button"!==e.target.getAttribute("type")&&V(t)},isRowSelected:(null==M?void 0:M.name)===(null==t?void 0:t.name)},o().createElement(p.Td,{dataLabel:"Name"},o().createElement(c.Link,{to:"/instances/instance/".concat(t.name)},t.name)),o().createElement(p.Td,{dataLabel:"Cloud Provider"},t.cloudProvider),o().createElement(p.Td,{dataLabel:"Region"},t.cloudRegion),o().createElement(p.Td,{dataLabel:"Owner"},t.owner),o().createElement(p.Td,{dataLabel:"Status"},o().createElement(I,{status:t.status})),o().createElement(p.Td,{dataLabel:"Time Created<"},(n=t.timeCreated,(0,S.Z)(n,"MM/dd/yyyy | h:mm:ss a"))),o().createElement(p.Td,{isActionCell:!0},o().createElement(p.ActionsColumn,{items:[{title:"Details",onClick:function(n){n.preventDefault(),e.push("/instances/instance/".concat(t.name))}},{title:"Change Owner",onClick:function(e){e.preventDefault(),W({instance:t,newOwner:null})}},{title:"Delete",onClick:function(e){e.preventDefault(),G(t)}}]})));var n})))),o().createElement(d.Toolbar,null,o().createElement(d.ToolbarContent,null,o().createElement(d.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},o().createElement(d.Pagination,{itemCount:f.length,perPage:C,page:b,onSetPage:h,widgetId:"acs-instances-top-pagination",onPerPageSelect:w})))))),o().createElement(y,{isOpen:!!L,onClose:function(){A(null)},onRequestCreate:function(e){return new Promise((function(t){setTimeout((function(){v((function(t){return[].concat((0,a.Z)(t),[e])})),t({error:null})}),1e3)}))}}),o().createElement(D,{instance:F,isOpen:!!F,onClose:function(){G(null)},onRequestDelete:function(){return new Promise((function(e){setTimeout((function(){v((function(e){return e.filter((function(e){return e.name!==F.name}))})),e({error:null})}),2e3)}))}}),o().createElement(O,{isOpen:!!H,changingOwner:H,possibleOwners:k,onClose:function(){W(null)},onRequestChangeOwner:function(e){var t=new Promise((function(t){setTimeout((function(){v((function(t){var n=t.map((function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return H.instance.name===t.name&&(n.owner=e),n}));return n})),t({error:null})}),2e3)}));return t}})))}))}}]);
//# sourceMappingURL=../sourcemaps/InstancesPage.c083b87cded8ae720c3b0ca32d8b744a.js.map